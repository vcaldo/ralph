# Ralph - Automated Iterative Development with Claude

Ralph is an automation workflow that uses Claude to systematically work through complex development tasks by breaking them into smaller, manageable pieces. Based on the [Ralph technique](https://www.humanlayer.dev/blog/brief-history-of-ralph), it enables autonomous, iterative development.

**TL;DR:**
```bash
# Install dependencies (Claude CLI)
npm install -g @anthropic-ai/claude-code
brew install jq  # or: apt install jq

# Verify setup
claude --version
git config user.name
git config user.email

# Create your first plan (TODO.example.md is a template in this repo)
cp TODO.example.md plans/my-feature/TODO.md
./ralph.sh plans/my-feature/          # Run until complete (unlimited)
# OR
./ralph.sh plans/my-feature/ 999      # Run max 999 iterations

# Using OpenCode instead of Claude CLI
go install github.com/opencode-ai/opencode@latest
./ralph.sh --cli opencode --provider anthropic plans/my-feature/
```
---

## Quick Start

### 1. Plan Your Feature

Ask Claude to plan a big feature or refactor. For example:

```
Implement a telegram bot that sends me a message every time my ipcam
uploads an image to /home/user/cam/. Send the photo with timestamp
and delete the photo after confirmation from telegram API that the
photo was sent.
```

### 2. Locate and Organize the Plan

Find the most recent plan generated by Claude:

```bash
ls -ltr ~/.claude/plans/
```

Copy the plan to your project's plans directory:

```bash
# Create a plan directory inside your repo and add it to .gitignore
mkdir -p plans/ip-cam-telegram-bot
echo "plans/" >> .gitignore

# Copy the plan file (rename as needed)
cp ~/.claude/plans/your-plan-file.md plans/ip-cam-telegram-bot/plan.md

# Copy the TODO template from this repo
cp TODO.example.md plans/ip-cam-telegram-bot/TODO.md
```

### 3. Break Down the Plan

Start a new Claude session and ask Claude to break down the plan into actionable tasks:

```
I have a plan at plans/ip-cam-telegram-bot/plan.md.
Please read it and update the TODO.md in the same folder,
breaking down the plan into small, actionable tasks organized by priority.
```

### 4. Run Ralph

Execute the automation script to let Claude work through your tasks:

```bash
# Run until complete (unlimited)
./ralph.sh plans/ip-cam-telegram-bot/

# Or set a max iteration limit
./ralph.sh plans/ip-cam-telegram-bot/ 999
```

Watch Ralph work through your TODO list, making commits and tracking progress automatically.

### 5. Monitor Progress

In another terminal, monitor progress in real-time:

```bash
tail -f plans/ip-cam-telegram-bot/progress.txt
```

## How It Works

Ralph follows a simple loop:

1. Reads tasks from `TODO.md` in your plan directory
2. Picks the highest-priority incomplete task
3. Works on **only that task**
4. Marks the task complete and updates `progress.txt`
5. Auto-commits changes to git
6. Repeats until all tasks are complete or iterations exhausted (if iteration limit specified)

## Features

- **Autonomous Development**: Claude works independently through your task list
- **Single Task Focus**: One task at a time for quality and clarity
- **Git Integration**: Auto-commits with descriptive messages
- **Progress Tracking**: Detailed logs and metrics
- **Flexible Planning**: Works with any task breakdown
- **Safe by Design**: Operates in your development environment, not production

## Requirements

- [Claude CLI](https://docs.anthropic.com/claude-code) installed and configured **OR** [OpenCode CLI](https://github.com/opencode-ai/opencode)
- Git with user identity configured
- `jq` for JSON processing
- Bash shell

## Using OpenCode

Ralph supports [OpenCode](https://github.com/opencode-ai/opencode) as an alternative CLI to Claude Code.

### Installation

```bash
go install github.com/opencode-ai/opencode@latest
```

### Usage

Use the `--cli` flag or set the `RALPH_CLI` environment variable:

```bash
# Using the --cli flag
./ralph.sh --cli opencode plans/my-feature/

# Or using environment variable
export RALPH_CLI=opencode
./ralph.sh plans/my-feature/
```

### Provider Selection

OpenCode supports multiple providers. Use `--provider` to select one (required when using `--cli opencode`):

```bash
# Use Anthropic API directly
./ralph.sh --cli opencode --provider anthropic plans/my-feature/

# Use GitHub Copilot as the provider
./ralph.sh --cli opencode --provider github-copilot plans/my-feature/

# Use OpenRouter (defaults to free GLM-4.7 model if --model not specified)
./ralph.sh --cli opencode --provider openrouter plans/my-feature/

# Use local Ollama instance
./ralph.sh --cli opencode --provider ollama --model llama3 plans/my-feature/
```

### Model Selection

Models work the same way with both CLIs:

```bash
./ralph.sh --cli opencode --model sonnet plans/my-feature/
./ralph.sh --cli opencode --model haiku plans/my-feature/
./ralph.sh --cli opencode --model opus plans/my-feature/  # default
```

Model names are translated automatically:
- `opus` → `claude-opus-4-5`
- `sonnet` → `claude-sonnet-4-5`
- `haiku` → `claude-haiku-4-5`

## Learn More

For detailed documentation, see [RALPH.md](RALPH.md) which covers:

- Complete usage guide
- Command-line options and flags
- Metrics and performance tracking
- Advanced workflows
- Troubleshooting
- Best practices

## The Ralph Technique

Ralph is based on the [Ralph technique](https://www.humanlayer.dev/blog/brief-history-of-ralph) - a pattern for breaking down complex software development tasks into systematic, automatable steps that an AI agent can execute independently while maintaining quality and visibility.

## License

MIT

---

